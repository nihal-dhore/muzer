/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/youtube-search-api@1.2.2";
exports.ids = ["vendor-chunks/youtube-search-api@1.2.2"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/youtube-search-api@1.2.2/node_modules/youtube-search-api/index.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/.pnpm/youtube-search-api@1.2.2/node_modules/youtube-search-api/index.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const axios = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/.pnpm/axios@0.21.4/node_modules/axios/index.js\");\nconst youtubeEndpoint = `https://www.youtube.com`;\n\nconst GetYoutubeInitData = async (url) => {\n  var initdata = await {};\n  var apiToken = await null;\n  var context = await null;\n  try {\n    const page = await axios.get(encodeURI(url));\n    const ytInitData = await page.data.split(\"var ytInitialData =\");\n    if (ytInitData && ytInitData.length > 1) {\n      const data = await ytInitData[1].split(\"</script>\")[0].slice(0, -1);\n\n      if (page.data.split(\"innertubeApiKey\").length > 0) {\n        apiToken = await page.data\n          .split(\"innertubeApiKey\")[1]\n          .trim()\n          .split(\",\")[0]\n          .split('\"')[2];\n      }\n\n      if (page.data.split(\"INNERTUBE_CONTEXT\").length > 0) {\n        context = await JSON.parse(\n          page.data.split(\"INNERTUBE_CONTEXT\")[1].trim().slice(2, -2)\n        );\n      }\n\n      initdata = await JSON.parse(data);\n      return await Promise.resolve({ initdata, apiToken, context });\n    } else {\n      console.error(\"cannot_get_init_data\");\n      return await Promise.reject(\"cannot_get_init_data\");\n    }\n  } catch (ex) {\n    await console.error(ex);\n    return await Promise.reject(ex);\n  }\n};\n\nconst GetYoutubePlayerDetail = async (url) => {\n  var initdata = await {};\n  try {\n    const page = await axios.get(encodeURI(url));\n    const ytInitData = await page.data.split(\"var ytInitialPlayerResponse =\");\n    if (ytInitData && ytInitData.length > 1) {\n      const data = await ytInitData[1].split(\"</script>\")[0].slice(0, -1);\n      initdata = await JSON.parse(data);\n      return await Promise.resolve({ ...initdata.videoDetails });\n    } else {\n      console.error(\"cannot_get_player_data\");\n      return await Promise.reject(\"cannot_get_player_data\");\n    }\n  } catch (ex) {\n    await console.error(ex);\n    return await Promise.reject(ex);\n  }\n};\n\nconst GetData = async (\n  keyword,\n  withPlaylist = false,\n  limit = 0,\n  options = []\n) => {\n  let endpoint = await `${youtubeEndpoint}/results?search_query=${keyword}`;\n  try {\n    if (Array.isArray(options) && options.length > 0) {\n      const type = options.find((z) => z.type);\n      if (typeof type == \"object\") {\n        if (typeof type.type == \"string\") {\n          switch (type.type.toLowerCase()) {\n            case \"video\":\n              endpoint = `${endpoint}&sp=EgIQAQ%3D%3D`;\n              break;\n            case \"channel\":\n              endpoint = `${endpoint}&sp=EgIQAg%3D%3D`;\n              break;\n            case \"playlist\":\n              endpoint = `${endpoint}&sp=EgIQAw%3D%3D`;\n              break;\n            case \"movie\":\n              endpoint = `${endpoint}&sp=EgIQBA%3D%3D`;\n              break;\n          }\n        }\n      }\n    }\n    const page = await GetYoutubeInitData(endpoint);\n\n    const sectionListRenderer = await page.initdata.contents\n      .twoColumnSearchResultsRenderer.primaryContents.sectionListRenderer;\n\n    let contToken = await {};\n\n    let items = await [];\n\n    await sectionListRenderer.contents.forEach((content) => {\n      if (content.continuationItemRenderer) {\n        contToken =\n          content.continuationItemRenderer.continuationEndpoint\n            .continuationCommand.token;\n      } else if (content.itemSectionRenderer) {\n        content.itemSectionRenderer.contents.forEach((item) => {\n          if (item.channelRenderer) {\n            let channelRenderer = item.channelRenderer;\n            items.push({\n              id: channelRenderer.channelId,\n              type: \"channel\",\n              thumbnail: channelRenderer.thumbnail,\n              title: channelRenderer.title.simpleText\n            });\n          } else {\n            let videoRender = item.videoRenderer;\n            let playListRender = item.playlistRenderer;\n\n            if (videoRender && videoRender.videoId) {\n              items.push(VideoRender(item));\n            }\n            if (withPlaylist) {\n              if (playListRender && playListRender.playlistId) {\n                items.push({\n                  id: playListRender.playlistId,\n                  type: \"playlist\",\n                  thumbnail: playListRender.thumbnails,\n                  title: playListRender.title.simpleText,\n                  length: playListRender.videoCount,\n                  videos: playListRender.videos,\n                  videoCount: playListRender.videoCount,\n                  isLive: false\n                });\n              }\n            }\n          }\n        });\n      }\n    });\n    const apiToken = await page.apiToken;\n    const context = await page.context;\n    const nextPageContext = await { context: context, continuation: contToken };\n    const itemsResult = limit != 0 ? items.slice(0, limit) : items;\n    return await Promise.resolve({\n      items: itemsResult,\n      nextPage: { nextPageToken: apiToken, nextPageContext: nextPageContext }\n    });\n  } catch (ex) {\n    await console.error(ex);\n    return await Promise.reject(ex);\n  }\n};\n\nconst nextPage = async (nextPage, withPlaylist = false, limit = 0) => {\n  const endpoint =\n    await `${youtubeEndpoint}/youtubei/v1/search?key=${nextPage.nextPageToken}`;\n  try {\n    const page = await axios.post(\n      encodeURI(endpoint),\n      nextPage.nextPageContext\n    );\n    const item1 =\n      page.data.onResponseReceivedCommands[0].appendContinuationItemsAction;\n    let items = [];\n    item1.continuationItems.forEach((conitem) => {\n      if (conitem.itemSectionRenderer) {\n        conitem.itemSectionRenderer.contents.forEach((item, index) => {\n          let videoRender = item.videoRenderer;\n          let playListRender = item.playlistRenderer;\n          if (videoRender && videoRender.videoId) {\n            items.push(VideoRender(item));\n          }\n          if (withPlaylist) {\n            if (playListRender && playListRender.playlistId) {\n              items.push({\n                id: playListRender.playlistId,\n                type: \"playlist\",\n                thumbnail: playListRender.thumbnails,\n                title: playListRender.title.simpleText,\n                length: playListRender.videoCount,\n                videos: GetPlaylistData(playListRender.playlistId)\n              });\n            }\n          }\n        });\n      } else if (conitem.continuationItemRenderer) {\n        nextPage.nextPageContext.continuation =\n          conitem.continuationItemRenderer.continuationEndpoint.continuationCommand.token;\n      }\n    });\n    const itemsResult = limit != 0 ? items.slice(0, limit) : items;\n    return await Promise.resolve({ items: itemsResult, nextPage: nextPage });\n  } catch (ex) {\n    await console.error(ex);\n    return await Promise.reject(ex);\n  }\n};\n\nconst GetPlaylistData = async (playlistId, limit = 0) => {\n  const endpoint = await `${youtubeEndpoint}/playlist?list=${playlistId}`;\n  try {\n    const initData = await GetYoutubeInitData(endpoint);\n    const sectionListRenderer = await initData.initdata;\n    const metadata = await sectionListRenderer.metadata;\n    if (sectionListRenderer && sectionListRenderer.contents) {\n      const videoItems = await sectionListRenderer.contents\n        .twoColumnBrowseResultsRenderer.tabs[0].tabRenderer.content\n        .sectionListRenderer.contents[0].itemSectionRenderer.contents[0]\n        .playlistVideoListRenderer.contents;\n      let items = await [];\n      await videoItems.forEach((item) => {\n        let videoRender = item.playlistVideoRenderer;\n        if (videoRender && videoRender.videoId) {\n          items.push(VideoRender(item));\n        }\n      });\n      const itemsResult = limit != 0 ? items.slice(0, limit) : items;\n      return await Promise.resolve({ items: itemsResult, metadata: metadata });\n    } else {\n      return await Promise.reject(\"invalid_playlist\");\n    }\n  } catch (ex) {\n    await console.error(ex);\n    return await Promise.reject(ex);\n  }\n};\n\nconst GetSuggestData = async (limit = 0) => {\n  const endpoint = await `${youtubeEndpoint}`;\n  try {\n    const page = await GetYoutubeInitData(endpoint);\n    const sectionListRenderer = await page.initdata.contents\n      .twoColumnBrowseResultsRenderer.tabs[0].tabRenderer.content\n      .richGridRenderer.contents;\n    let items = await [];\n    let otherItems = await [];\n    await sectionListRenderer.forEach((item) => {\n      if (item.richItemRenderer && item.richItemRenderer.content) {\n        let videoRender = item.richItemRenderer.content.videoRenderer;\n        if (videoRender && videoRender.videoId) {\n          items.push(VideoRender(item.richItemRenderer.content));\n        } else {\n          otherItems.push(videoRender);\n        }\n      }\n    });\n    const itemsResult = limit != 0 ? items.slice(0, limit) : items;\n    return await Promise.resolve({ items: itemsResult });\n  } catch (ex) {\n    await console.error(ex);\n    return await Promise.reject(ex);\n  }\n};\n\nconst GetChannelById = async (channelId) => {\n  const endpoint = await `${youtubeEndpoint}/channel/${channelId}`;\n  try {\n    const page = await GetYoutubeInitData(endpoint);\n    const tabs = page.initdata.contents.twoColumnBrowseResultsRenderer.tabs;\n    const items = tabs\n      .map((json) => {\n        if (json && json.tabRenderer) {\n          const tabRenderer = json.tabRenderer;\n          const title = tabRenderer.title;\n          const content = tabRenderer.content;\n          return { title, content };\n        }\n      })\n      .filter((y) => typeof y != \"undefined\");\n    return await Promise.resolve(items);\n  } catch (ex) {\n    return await Promise.reject(ex);\n  }\n};\n\nconst GetVideoDetails = async (videoId) => {\n  const endpoint = await `${youtubeEndpoint}/watch?v=${videoId}`;\n  try {\n    const page = await GetYoutubeInitData(endpoint);\n    const playerData = await GetYoutubePlayerDetail(endpoint);\n\n    const result = await page.initdata.contents.twoColumnWatchNextResults;\n    const firstContent = await result.results.results.contents[0]\n      .videoPrimaryInfoRenderer;\n    const secondContent = await result.results.results.contents[1]\n      .videoSecondaryInfoRenderer;\n    const res = await {\n      id: playerData.videoId,\n      title: firstContent.title.runs[0].text,\n      thumbnail: playerData.thumbnail,\n      isLive: firstContent.viewCount.videoViewCountRenderer.hasOwnProperty(\n        \"isLive\"\n      )\n        ? firstContent.viewCount.videoViewCountRenderer.isLive\n        : false,\n      channel:\n        playerData.author ||\n        secondContent.owner.videoOwnerRenderer.title.runs[0].text,\n      channelId: playerData.channelId,\n      description: playerData.shortDescription,\n      keywords: playerData.keywords,\n      suggestion: result.secondaryResults.secondaryResults.results\n        .filter((y) => y.hasOwnProperty(\"compactVideoRenderer\"))\n        .map((x) => compactVideoRenderer(x))\n    };\n\n    return await Promise.resolve(res);\n  } catch (ex) {\n    return await Promise.reject(ex);\n  }\n};\n\nconst VideoRender = (json) => {\n  try {\n    if (json && (json.videoRenderer || json.playlistVideoRenderer)) {\n      let videoRenderer = null;\n      if (json.videoRenderer) {\n        videoRenderer = json.videoRenderer;\n      } else if (json.playlistVideoRenderer) {\n        videoRenderer = json.playlistVideoRenderer;\n      }\n      var isLive = false;\n      if (\n        videoRenderer.badges &&\n        videoRenderer.badges.length > 0 &&\n        videoRenderer.badges[0].metadataBadgeRenderer &&\n        videoRenderer.badges[0].metadataBadgeRenderer.style ==\n          \"BADGE_STYLE_TYPE_LIVE_NOW\"\n      ) {\n        isLive = true;\n      }\n      if (videoRenderer.thumbnailOverlays) {\n        videoRenderer.thumbnailOverlays.forEach((item) => {\n          if (\n            item.thumbnailOverlayTimeStatusRenderer &&\n            item.thumbnailOverlayTimeStatusRenderer.style &&\n            item.thumbnailOverlayTimeStatusRenderer.style == \"LIVE\"\n          ) {\n            isLive = true;\n          }\n        });\n      }\n      const id = videoRenderer.videoId;\n      const thumbnail = videoRenderer.thumbnail;\n      const title = videoRenderer.title.runs[0].text;\n      const shortBylineText = videoRenderer.shortBylineText\n        ? videoRenderer.shortBylineText\n        : \"\";\n      const lengthText = videoRenderer.lengthText\n        ? videoRenderer.lengthText\n        : \"\";\n      const channelTitle =\n        videoRenderer.ownerText && videoRenderer.ownerText.runs\n          ? videoRenderer.ownerText.runs[0].text\n          : \"\";\n      return {\n        id,\n        type: \"video\",\n        thumbnail,\n        title,\n        channelTitle,\n        shortBylineText,\n        length: lengthText,\n        isLive\n      };\n    } else {\n      return {};\n    }\n  } catch (ex) {\n    throw ex;\n  }\n};\n\nconst compactVideoRenderer = (json) => {\n  const compactVideoRendererJson = json.compactVideoRenderer;\n\n  var isLive = false;\n  if (\n    compactVideoRendererJson.badges &&\n    compactVideoRendererJson.badges.length > 0 &&\n    compactVideoRendererJson.badges[0].metadataBadgeRenderer &&\n    compactVideoRendererJson.badges[0].metadataBadgeRenderer.style ==\n      \"BADGE_STYLE_TYPE_LIVE_NOW\"\n  ) {\n    isLive = true;\n  }\n  const result = {\n    id: compactVideoRendererJson.videoId,\n    type: \"video\",\n    thumbnail: compactVideoRendererJson.thumbnail.thumbnails,\n    title: compactVideoRendererJson.title.simpleText,\n    channelTitle: compactVideoRendererJson.shortBylineText.runs[0].text,\n    shortBylineText: compactVideoRendererJson.shortBylineText.runs[0].text,\n    length: compactVideoRendererJson.lengthText,\n    isLive\n  };\n  return result;\n};\n\nconst GetShortVideo = async () => {\n  const page = await GetYoutubeInitData(youtubeEndpoint);\n  const shortResult =\n    await page.initdata.contents.twoColumnBrowseResultsRenderer.tabs[0].tabRenderer.content.richGridRenderer.contents\n      .filter((x) => {\n        return x.richSectionRenderer;\n      })\n      .map((z) => z.richSectionRenderer.content)\n      .filter((y) => y.richShelfRenderer)\n      .map((u) => u.richShelfRenderer)\n      .find((i) => i.title.runs[0].text == \"Shorts\");\n  const res = await shortResult.contents\n    .map((z) => z.richItemRenderer)\n    .map((y) => y.content.reelItemRenderer);\n  return await res.map((json) => ({\n    id: json.videoId,\n    type: \"reel\",\n    thumbnail: json.thumbnail.thumbnails[0],\n    title: json.headline.simpleText,\n    inlinePlaybackEndpoint: json.inlinePlaybackEndpoint || {}\n  }));\n};\n\nexports.GetListByKeyword = GetData;\nexports.NextPage = nextPage;\nexports.GetPlaylistData = GetPlaylistData;\nexports.GetSuggestData = GetSuggestData;\nexports.GetChannelById = GetChannelById;\nexports.GetVideoDetails = GetVideoDetails;\nexports.GetShortVideo = GetShortVideo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0veW91dHViZS1zZWFyY2gtYXBpQDEuMi4yL25vZGVfbW9kdWxlcy95b3V0dWJlLXNlYXJjaC1hcGkvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyxtQkFBTyxDQUFDLGtGQUFPO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDLDZCQUE2QjtBQUNsRSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsMEJBQTBCO0FBQy9ELE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdCQUFnQix3QkFBd0IsUUFBUTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQSw0QkFBNEIsU0FBUztBQUNyQztBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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cUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvLnBucG0veW91dHViZS1zZWFyY2gtYXBpQDEuMi4yL25vZGVfbW9kdWxlcy95b3V0dWJlLXNlYXJjaC1hcGkvaW5kZXguanM/MWVjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBheGlvcyA9IHJlcXVpcmUoXCJheGlvc1wiKTtcbmNvbnN0IHlvdXR1YmVFbmRwb2ludCA9IGBodHRwczovL3d3dy55b3V0dWJlLmNvbWA7XG5cbmNvbnN0IEdldFlvdXR1YmVJbml0RGF0YSA9IGFzeW5jICh1cmwpID0+IHtcbiAgdmFyIGluaXRkYXRhID0gYXdhaXQge307XG4gIHZhciBhcGlUb2tlbiA9IGF3YWl0IG51bGw7XG4gIHZhciBjb250ZXh0ID0gYXdhaXQgbnVsbDtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYWdlID0gYXdhaXQgYXhpb3MuZ2V0KGVuY29kZVVSSSh1cmwpKTtcbiAgICBjb25zdCB5dEluaXREYXRhID0gYXdhaXQgcGFnZS5kYXRhLnNwbGl0KFwidmFyIHl0SW5pdGlhbERhdGEgPVwiKTtcbiAgICBpZiAoeXRJbml0RGF0YSAmJiB5dEluaXREYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB5dEluaXREYXRhWzFdLnNwbGl0KFwiPC9zY3JpcHQ+XCIpWzBdLnNsaWNlKDAsIC0xKTtcblxuICAgICAgaWYgKHBhZ2UuZGF0YS5zcGxpdChcImlubmVydHViZUFwaUtleVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFwaVRva2VuID0gYXdhaXQgcGFnZS5kYXRhXG4gICAgICAgICAgLnNwbGl0KFwiaW5uZXJ0dWJlQXBpS2V5XCIpWzFdXG4gICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgIC5zcGxpdChcIixcIilbMF1cbiAgICAgICAgICAuc3BsaXQoJ1wiJylbMl07XG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdlLmRhdGEuc3BsaXQoXCJJTk5FUlRVQkVfQ09OVEVYVFwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnRleHQgPSBhd2FpdCBKU09OLnBhcnNlKFxuICAgICAgICAgIHBhZ2UuZGF0YS5zcGxpdChcIklOTkVSVFVCRV9DT05URVhUXCIpWzFdLnRyaW0oKS5zbGljZSgyLCAtMilcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaW5pdGRhdGEgPSBhd2FpdCBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSh7IGluaXRkYXRhLCBhcGlUb2tlbiwgY29udGV4dCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcImNhbm5vdF9nZXRfaW5pdF9kYXRhXCIpO1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVqZWN0KFwiY2Fubm90X2dldF9pbml0X2RhdGFcIik7XG4gICAgfVxuICB9IGNhdGNoIChleCkge1xuICAgIGF3YWl0IGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlamVjdChleCk7XG4gIH1cbn07XG5cbmNvbnN0IEdldFlvdXR1YmVQbGF5ZXJEZXRhaWwgPSBhc3luYyAodXJsKSA9PiB7XG4gIHZhciBpbml0ZGF0YSA9IGF3YWl0IHt9O1xuICB0cnkge1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBheGlvcy5nZXQoZW5jb2RlVVJJKHVybCkpO1xuICAgIGNvbnN0IHl0SW5pdERhdGEgPSBhd2FpdCBwYWdlLmRhdGEuc3BsaXQoXCJ2YXIgeXRJbml0aWFsUGxheWVyUmVzcG9uc2UgPVwiKTtcbiAgICBpZiAoeXRJbml0RGF0YSAmJiB5dEluaXREYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB5dEluaXREYXRhWzFdLnNwbGl0KFwiPC9zY3JpcHQ+XCIpWzBdLnNsaWNlKDAsIC0xKTtcbiAgICAgIGluaXRkYXRhID0gYXdhaXQgSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoeyAuLi5pbml0ZGF0YS52aWRlb0RldGFpbHMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYW5ub3RfZ2V0X3BsYXllcl9kYXRhXCIpO1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVqZWN0KFwiY2Fubm90X2dldF9wbGF5ZXJfZGF0YVwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgYXdhaXQgY29uc29sZS5lcnJvcihleCk7XG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVqZWN0KGV4KTtcbiAgfVxufTtcblxuY29uc3QgR2V0RGF0YSA9IGFzeW5jIChcbiAga2V5d29yZCxcbiAgd2l0aFBsYXlsaXN0ID0gZmFsc2UsXG4gIGxpbWl0ID0gMCxcbiAgb3B0aW9ucyA9IFtdXG4pID0+IHtcbiAgbGV0IGVuZHBvaW50ID0gYXdhaXQgYCR7eW91dHViZUVuZHBvaW50fS9yZXN1bHRzP3NlYXJjaF9xdWVyeT0ke2tleXdvcmR9YDtcbiAgdHJ5IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSAmJiBvcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLmZpbmQoKHopID0+IHoudHlwZSk7XG4gICAgICBpZiAodHlwZW9mIHR5cGUgPT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUudHlwZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgc3dpdGNoICh0eXBlLnR5cGUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgICAgIGVuZHBvaW50ID0gYCR7ZW5kcG9pbnR9JnNwPUVnSVFBUSUzRCUzRGA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNoYW5uZWxcIjpcbiAgICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHtlbmRwb2ludH0mc3A9RWdJUUFnJTNEJTNEYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGxheWxpc3RcIjpcbiAgICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHtlbmRwb2ludH0mc3A9RWdJUUF3JTNEJTNEYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibW92aWVcIjpcbiAgICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHtlbmRwb2ludH0mc3A9RWdJUUJBJTNEJTNEYDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBHZXRZb3V0dWJlSW5pdERhdGEoZW5kcG9pbnQpO1xuXG4gICAgY29uc3Qgc2VjdGlvbkxpc3RSZW5kZXJlciA9IGF3YWl0IHBhZ2UuaW5pdGRhdGEuY29udGVudHNcbiAgICAgIC50d29Db2x1bW5TZWFyY2hSZXN1bHRzUmVuZGVyZXIucHJpbWFyeUNvbnRlbnRzLnNlY3Rpb25MaXN0UmVuZGVyZXI7XG5cbiAgICBsZXQgY29udFRva2VuID0gYXdhaXQge307XG5cbiAgICBsZXQgaXRlbXMgPSBhd2FpdCBbXTtcblxuICAgIGF3YWl0IHNlY3Rpb25MaXN0UmVuZGVyZXIuY29udGVudHMuZm9yRWFjaCgoY29udGVudCkgPT4ge1xuICAgICAgaWYgKGNvbnRlbnQuY29udGludWF0aW9uSXRlbVJlbmRlcmVyKSB7XG4gICAgICAgIGNvbnRUb2tlbiA9XG4gICAgICAgICAgY29udGVudC5jb250aW51YXRpb25JdGVtUmVuZGVyZXIuY29udGludWF0aW9uRW5kcG9pbnRcbiAgICAgICAgICAgIC5jb250aW51YXRpb25Db21tYW5kLnRva2VuO1xuICAgICAgfSBlbHNlIGlmIChjb250ZW50Lml0ZW1TZWN0aW9uUmVuZGVyZXIpIHtcbiAgICAgICAgY29udGVudC5pdGVtU2VjdGlvblJlbmRlcmVyLmNvbnRlbnRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBpZiAoaXRlbS5jaGFubmVsUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGxldCBjaGFubmVsUmVuZGVyZXIgPSBpdGVtLmNoYW5uZWxSZW5kZXJlcjtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICBpZDogY2hhbm5lbFJlbmRlcmVyLmNoYW5uZWxJZCxcbiAgICAgICAgICAgICAgdHlwZTogXCJjaGFubmVsXCIsXG4gICAgICAgICAgICAgIHRodW1ibmFpbDogY2hhbm5lbFJlbmRlcmVyLnRodW1ibmFpbCxcbiAgICAgICAgICAgICAgdGl0bGU6IGNoYW5uZWxSZW5kZXJlci50aXRsZS5zaW1wbGVUZXh0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHZpZGVvUmVuZGVyID0gaXRlbS52aWRlb1JlbmRlcmVyO1xuICAgICAgICAgICAgbGV0IHBsYXlMaXN0UmVuZGVyID0gaXRlbS5wbGF5bGlzdFJlbmRlcmVyO1xuXG4gICAgICAgICAgICBpZiAodmlkZW9SZW5kZXIgJiYgdmlkZW9SZW5kZXIudmlkZW9JZCkge1xuICAgICAgICAgICAgICBpdGVtcy5wdXNoKFZpZGVvUmVuZGVyKGl0ZW0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3aXRoUGxheWxpc3QpIHtcbiAgICAgICAgICAgICAgaWYgKHBsYXlMaXN0UmVuZGVyICYmIHBsYXlMaXN0UmVuZGVyLnBsYXlsaXN0SWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBwbGF5TGlzdFJlbmRlci5wbGF5bGlzdElkLFxuICAgICAgICAgICAgICAgICAgdHlwZTogXCJwbGF5bGlzdFwiLFxuICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiBwbGF5TGlzdFJlbmRlci50aHVtYm5haWxzLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IHBsYXlMaXN0UmVuZGVyLnRpdGxlLnNpbXBsZVRleHQsXG4gICAgICAgICAgICAgICAgICBsZW5ndGg6IHBsYXlMaXN0UmVuZGVyLnZpZGVvQ291bnQsXG4gICAgICAgICAgICAgICAgICB2aWRlb3M6IHBsYXlMaXN0UmVuZGVyLnZpZGVvcyxcbiAgICAgICAgICAgICAgICAgIHZpZGVvQ291bnQ6IHBsYXlMaXN0UmVuZGVyLnZpZGVvQ291bnQsXG4gICAgICAgICAgICAgICAgICBpc0xpdmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGFwaVRva2VuID0gYXdhaXQgcGFnZS5hcGlUb2tlbjtcbiAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgcGFnZS5jb250ZXh0O1xuICAgIGNvbnN0IG5leHRQYWdlQ29udGV4dCA9IGF3YWl0IHsgY29udGV4dDogY29udGV4dCwgY29udGludWF0aW9uOiBjb250VG9rZW4gfTtcbiAgICBjb25zdCBpdGVtc1Jlc3VsdCA9IGxpbWl0ICE9IDAgPyBpdGVtcy5zbGljZSgwLCBsaW1pdCkgOiBpdGVtcztcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgIGl0ZW1zOiBpdGVtc1Jlc3VsdCxcbiAgICAgIG5leHRQYWdlOiB7IG5leHRQYWdlVG9rZW46IGFwaVRva2VuLCBuZXh0UGFnZUNvbnRleHQ6IG5leHRQYWdlQ29udGV4dCB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgYXdhaXQgY29uc29sZS5lcnJvcihleCk7XG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVqZWN0KGV4KTtcbiAgfVxufTtcblxuY29uc3QgbmV4dFBhZ2UgPSBhc3luYyAobmV4dFBhZ2UsIHdpdGhQbGF5bGlzdCA9IGZhbHNlLCBsaW1pdCA9IDApID0+IHtcbiAgY29uc3QgZW5kcG9pbnQgPVxuICAgIGF3YWl0IGAke3lvdXR1YmVFbmRwb2ludH0veW91dHViZWkvdjEvc2VhcmNoP2tleT0ke25leHRQYWdlLm5leHRQYWdlVG9rZW59YDtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYWdlID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgIGVuY29kZVVSSShlbmRwb2ludCksXG4gICAgICBuZXh0UGFnZS5uZXh0UGFnZUNvbnRleHRcbiAgICApO1xuICAgIGNvbnN0IGl0ZW0xID1cbiAgICAgIHBhZ2UuZGF0YS5vblJlc3BvbnNlUmVjZWl2ZWRDb21tYW5kc1swXS5hcHBlbmRDb250aW51YXRpb25JdGVtc0FjdGlvbjtcbiAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICBpdGVtMS5jb250aW51YXRpb25JdGVtcy5mb3JFYWNoKChjb25pdGVtKSA9PiB7XG4gICAgICBpZiAoY29uaXRlbS5pdGVtU2VjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgIGNvbml0ZW0uaXRlbVNlY3Rpb25SZW5kZXJlci5jb250ZW50cy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGxldCB2aWRlb1JlbmRlciA9IGl0ZW0udmlkZW9SZW5kZXJlcjtcbiAgICAgICAgICBsZXQgcGxheUxpc3RSZW5kZXIgPSBpdGVtLnBsYXlsaXN0UmVuZGVyZXI7XG4gICAgICAgICAgaWYgKHZpZGVvUmVuZGVyICYmIHZpZGVvUmVuZGVyLnZpZGVvSWQpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goVmlkZW9SZW5kZXIoaXRlbSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAod2l0aFBsYXlsaXN0KSB7XG4gICAgICAgICAgICBpZiAocGxheUxpc3RSZW5kZXIgJiYgcGxheUxpc3RSZW5kZXIucGxheWxpc3RJZCkge1xuICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGxheUxpc3RSZW5kZXIucGxheWxpc3RJZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInBsYXlsaXN0XCIsXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsOiBwbGF5TGlzdFJlbmRlci50aHVtYm5haWxzLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBwbGF5TGlzdFJlbmRlci50aXRsZS5zaW1wbGVUZXh0LFxuICAgICAgICAgICAgICAgIGxlbmd0aDogcGxheUxpc3RSZW5kZXIudmlkZW9Db3VudCxcbiAgICAgICAgICAgICAgICB2aWRlb3M6IEdldFBsYXlsaXN0RGF0YShwbGF5TGlzdFJlbmRlci5wbGF5bGlzdElkKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChjb25pdGVtLmNvbnRpbnVhdGlvbkl0ZW1SZW5kZXJlcikge1xuICAgICAgICBuZXh0UGFnZS5uZXh0UGFnZUNvbnRleHQuY29udGludWF0aW9uID1cbiAgICAgICAgICBjb25pdGVtLmNvbnRpbnVhdGlvbkl0ZW1SZW5kZXJlci5jb250aW51YXRpb25FbmRwb2ludC5jb250aW51YXRpb25Db21tYW5kLnRva2VuO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGl0ZW1zUmVzdWx0ID0gbGltaXQgIT0gMCA/IGl0ZW1zLnNsaWNlKDAsIGxpbWl0KSA6IGl0ZW1zO1xuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoeyBpdGVtczogaXRlbXNSZXN1bHQsIG5leHRQYWdlOiBuZXh0UGFnZSB9KTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBhd2FpdCBjb25zb2xlLmVycm9yKGV4KTtcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZWplY3QoZXgpO1xuICB9XG59O1xuXG5jb25zdCBHZXRQbGF5bGlzdERhdGEgPSBhc3luYyAocGxheWxpc3RJZCwgbGltaXQgPSAwKSA9PiB7XG4gIGNvbnN0IGVuZHBvaW50ID0gYXdhaXQgYCR7eW91dHViZUVuZHBvaW50fS9wbGF5bGlzdD9saXN0PSR7cGxheWxpc3RJZH1gO1xuICB0cnkge1xuICAgIGNvbnN0IGluaXREYXRhID0gYXdhaXQgR2V0WW91dHViZUluaXREYXRhKGVuZHBvaW50KTtcbiAgICBjb25zdCBzZWN0aW9uTGlzdFJlbmRlcmVyID0gYXdhaXQgaW5pdERhdGEuaW5pdGRhdGE7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBhd2FpdCBzZWN0aW9uTGlzdFJlbmRlcmVyLm1ldGFkYXRhO1xuICAgIGlmIChzZWN0aW9uTGlzdFJlbmRlcmVyICYmIHNlY3Rpb25MaXN0UmVuZGVyZXIuY29udGVudHMpIHtcbiAgICAgIGNvbnN0IHZpZGVvSXRlbXMgPSBhd2FpdCBzZWN0aW9uTGlzdFJlbmRlcmVyLmNvbnRlbnRzXG4gICAgICAgIC50d29Db2x1bW5Ccm93c2VSZXN1bHRzUmVuZGVyZXIudGFic1swXS50YWJSZW5kZXJlci5jb250ZW50XG4gICAgICAgIC5zZWN0aW9uTGlzdFJlbmRlcmVyLmNvbnRlbnRzWzBdLml0ZW1TZWN0aW9uUmVuZGVyZXIuY29udGVudHNbMF1cbiAgICAgICAgLnBsYXlsaXN0VmlkZW9MaXN0UmVuZGVyZXIuY29udGVudHM7XG4gICAgICBsZXQgaXRlbXMgPSBhd2FpdCBbXTtcbiAgICAgIGF3YWl0IHZpZGVvSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBsZXQgdmlkZW9SZW5kZXIgPSBpdGVtLnBsYXlsaXN0VmlkZW9SZW5kZXJlcjtcbiAgICAgICAgaWYgKHZpZGVvUmVuZGVyICYmIHZpZGVvUmVuZGVyLnZpZGVvSWQpIHtcbiAgICAgICAgICBpdGVtcy5wdXNoKFZpZGVvUmVuZGVyKGl0ZW0pKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBpdGVtc1Jlc3VsdCA9IGxpbWl0ICE9IDAgPyBpdGVtcy5zbGljZSgwLCBsaW1pdCkgOiBpdGVtcztcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoeyBpdGVtczogaXRlbXNSZXN1bHQsIG1ldGFkYXRhOiBtZXRhZGF0YSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVqZWN0KFwiaW52YWxpZF9wbGF5bGlzdFwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgYXdhaXQgY29uc29sZS5lcnJvcihleCk7XG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVqZWN0KGV4KTtcbiAgfVxufTtcblxuY29uc3QgR2V0U3VnZ2VzdERhdGEgPSBhc3luYyAobGltaXQgPSAwKSA9PiB7XG4gIGNvbnN0IGVuZHBvaW50ID0gYXdhaXQgYCR7eW91dHViZUVuZHBvaW50fWA7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFnZSA9IGF3YWl0IEdldFlvdXR1YmVJbml0RGF0YShlbmRwb2ludCk7XG4gICAgY29uc3Qgc2VjdGlvbkxpc3RSZW5kZXJlciA9IGF3YWl0IHBhZ2UuaW5pdGRhdGEuY29udGVudHNcbiAgICAgIC50d29Db2x1bW5Ccm93c2VSZXN1bHRzUmVuZGVyZXIudGFic1swXS50YWJSZW5kZXJlci5jb250ZW50XG4gICAgICAucmljaEdyaWRSZW5kZXJlci5jb250ZW50cztcbiAgICBsZXQgaXRlbXMgPSBhd2FpdCBbXTtcbiAgICBsZXQgb3RoZXJJdGVtcyA9IGF3YWl0IFtdO1xuICAgIGF3YWl0IHNlY3Rpb25MaXN0UmVuZGVyZXIuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0ucmljaEl0ZW1SZW5kZXJlciAmJiBpdGVtLnJpY2hJdGVtUmVuZGVyZXIuY29udGVudCkge1xuICAgICAgICBsZXQgdmlkZW9SZW5kZXIgPSBpdGVtLnJpY2hJdGVtUmVuZGVyZXIuY29udGVudC52aWRlb1JlbmRlcmVyO1xuICAgICAgICBpZiAodmlkZW9SZW5kZXIgJiYgdmlkZW9SZW5kZXIudmlkZW9JZCkge1xuICAgICAgICAgIGl0ZW1zLnB1c2goVmlkZW9SZW5kZXIoaXRlbS5yaWNoSXRlbVJlbmRlcmVyLmNvbnRlbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdGhlckl0ZW1zLnB1c2godmlkZW9SZW5kZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgaXRlbXNSZXN1bHQgPSBsaW1pdCAhPSAwID8gaXRlbXMuc2xpY2UoMCwgbGltaXQpIDogaXRlbXM7XG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSh7IGl0ZW1zOiBpdGVtc1Jlc3VsdCB9KTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBhd2FpdCBjb25zb2xlLmVycm9yKGV4KTtcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZWplY3QoZXgpO1xuICB9XG59O1xuXG5jb25zdCBHZXRDaGFubmVsQnlJZCA9IGFzeW5jIChjaGFubmVsSWQpID0+IHtcbiAgY29uc3QgZW5kcG9pbnQgPSBhd2FpdCBgJHt5b3V0dWJlRW5kcG9pbnR9L2NoYW5uZWwvJHtjaGFubmVsSWR9YDtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYWdlID0gYXdhaXQgR2V0WW91dHViZUluaXREYXRhKGVuZHBvaW50KTtcbiAgICBjb25zdCB0YWJzID0gcGFnZS5pbml0ZGF0YS5jb250ZW50cy50d29Db2x1bW5Ccm93c2VSZXN1bHRzUmVuZGVyZXIudGFicztcbiAgICBjb25zdCBpdGVtcyA9IHRhYnNcbiAgICAgIC5tYXAoKGpzb24pID0+IHtcbiAgICAgICAgaWYgKGpzb24gJiYganNvbi50YWJSZW5kZXJlcikge1xuICAgICAgICAgIGNvbnN0IHRhYlJlbmRlcmVyID0ganNvbi50YWJSZW5kZXJlcjtcbiAgICAgICAgICBjb25zdCB0aXRsZSA9IHRhYlJlbmRlcmVyLnRpdGxlO1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0YWJSZW5kZXJlci5jb250ZW50O1xuICAgICAgICAgIHJldHVybiB7IHRpdGxlLCBjb250ZW50IH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKCh5KSA9PiB0eXBlb2YgeSAhPSBcInVuZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGl0ZW1zKTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZWplY3QoZXgpO1xuICB9XG59O1xuXG5jb25zdCBHZXRWaWRlb0RldGFpbHMgPSBhc3luYyAodmlkZW9JZCkgPT4ge1xuICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGAke3lvdXR1YmVFbmRwb2ludH0vd2F0Y2g/dj0ke3ZpZGVvSWR9YDtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYWdlID0gYXdhaXQgR2V0WW91dHViZUluaXREYXRhKGVuZHBvaW50KTtcbiAgICBjb25zdCBwbGF5ZXJEYXRhID0gYXdhaXQgR2V0WW91dHViZVBsYXllckRldGFpbChlbmRwb2ludCk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYWdlLmluaXRkYXRhLmNvbnRlbnRzLnR3b0NvbHVtbldhdGNoTmV4dFJlc3VsdHM7XG4gICAgY29uc3QgZmlyc3RDb250ZW50ID0gYXdhaXQgcmVzdWx0LnJlc3VsdHMucmVzdWx0cy5jb250ZW50c1swXVxuICAgICAgLnZpZGVvUHJpbWFyeUluZm9SZW5kZXJlcjtcbiAgICBjb25zdCBzZWNvbmRDb250ZW50ID0gYXdhaXQgcmVzdWx0LnJlc3VsdHMucmVzdWx0cy5jb250ZW50c1sxXVxuICAgICAgLnZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHtcbiAgICAgIGlkOiBwbGF5ZXJEYXRhLnZpZGVvSWQsXG4gICAgICB0aXRsZTogZmlyc3RDb250ZW50LnRpdGxlLnJ1bnNbMF0udGV4dCxcbiAgICAgIHRodW1ibmFpbDogcGxheWVyRGF0YS50aHVtYm5haWwsXG4gICAgICBpc0xpdmU6IGZpcnN0Q29udGVudC52aWV3Q291bnQudmlkZW9WaWV3Q291bnRSZW5kZXJlci5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICAgXCJpc0xpdmVcIlxuICAgICAgKVxuICAgICAgICA/IGZpcnN0Q29udGVudC52aWV3Q291bnQudmlkZW9WaWV3Q291bnRSZW5kZXJlci5pc0xpdmVcbiAgICAgICAgOiBmYWxzZSxcbiAgICAgIGNoYW5uZWw6XG4gICAgICAgIHBsYXllckRhdGEuYXV0aG9yIHx8XG4gICAgICAgIHNlY29uZENvbnRlbnQub3duZXIudmlkZW9Pd25lclJlbmRlcmVyLnRpdGxlLnJ1bnNbMF0udGV4dCxcbiAgICAgIGNoYW5uZWxJZDogcGxheWVyRGF0YS5jaGFubmVsSWQsXG4gICAgICBkZXNjcmlwdGlvbjogcGxheWVyRGF0YS5zaG9ydERlc2NyaXB0aW9uLFxuICAgICAga2V5d29yZHM6IHBsYXllckRhdGEua2V5d29yZHMsXG4gICAgICBzdWdnZXN0aW9uOiByZXN1bHQuc2Vjb25kYXJ5UmVzdWx0cy5zZWNvbmRhcnlSZXN1bHRzLnJlc3VsdHNcbiAgICAgICAgLmZpbHRlcigoeSkgPT4geS5oYXNPd25Qcm9wZXJ0eShcImNvbXBhY3RWaWRlb1JlbmRlcmVyXCIpKVxuICAgICAgICAubWFwKCh4KSA9PiBjb21wYWN0VmlkZW9SZW5kZXJlcih4KSlcbiAgICB9O1xuXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShyZXMpO1xuICB9IGNhdGNoIChleCkge1xuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlamVjdChleCk7XG4gIH1cbn07XG5cbmNvbnN0IFZpZGVvUmVuZGVyID0gKGpzb24pID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoanNvbiAmJiAoanNvbi52aWRlb1JlbmRlcmVyIHx8IGpzb24ucGxheWxpc3RWaWRlb1JlbmRlcmVyKSkge1xuICAgICAgbGV0IHZpZGVvUmVuZGVyZXIgPSBudWxsO1xuICAgICAgaWYgKGpzb24udmlkZW9SZW5kZXJlcikge1xuICAgICAgICB2aWRlb1JlbmRlcmVyID0ganNvbi52aWRlb1JlbmRlcmVyO1xuICAgICAgfSBlbHNlIGlmIChqc29uLnBsYXlsaXN0VmlkZW9SZW5kZXJlcikge1xuICAgICAgICB2aWRlb1JlbmRlcmVyID0ganNvbi5wbGF5bGlzdFZpZGVvUmVuZGVyZXI7XG4gICAgICB9XG4gICAgICB2YXIgaXNMaXZlID0gZmFsc2U7XG4gICAgICBpZiAoXG4gICAgICAgIHZpZGVvUmVuZGVyZXIuYmFkZ2VzICYmXG4gICAgICAgIHZpZGVvUmVuZGVyZXIuYmFkZ2VzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgdmlkZW9SZW5kZXJlci5iYWRnZXNbMF0ubWV0YWRhdGFCYWRnZVJlbmRlcmVyICYmXG4gICAgICAgIHZpZGVvUmVuZGVyZXIuYmFkZ2VzWzBdLm1ldGFkYXRhQmFkZ2VSZW5kZXJlci5zdHlsZSA9PVxuICAgICAgICAgIFwiQkFER0VfU1RZTEVfVFlQRV9MSVZFX05PV1wiXG4gICAgICApIHtcbiAgICAgICAgaXNMaXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2aWRlb1JlbmRlcmVyLnRodW1ibmFpbE92ZXJsYXlzKSB7XG4gICAgICAgIHZpZGVvUmVuZGVyZXIudGh1bWJuYWlsT3ZlcmxheXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGl0ZW0udGh1bWJuYWlsT3ZlcmxheVRpbWVTdGF0dXNSZW5kZXJlciAmJlxuICAgICAgICAgICAgaXRlbS50aHVtYm5haWxPdmVybGF5VGltZVN0YXR1c1JlbmRlcmVyLnN0eWxlICYmXG4gICAgICAgICAgICBpdGVtLnRodW1ibmFpbE92ZXJsYXlUaW1lU3RhdHVzUmVuZGVyZXIuc3R5bGUgPT0gXCJMSVZFXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlzTGl2ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gdmlkZW9SZW5kZXJlci52aWRlb0lkO1xuICAgICAgY29uc3QgdGh1bWJuYWlsID0gdmlkZW9SZW5kZXJlci50aHVtYm5haWw7XG4gICAgICBjb25zdCB0aXRsZSA9IHZpZGVvUmVuZGVyZXIudGl0bGUucnVuc1swXS50ZXh0O1xuICAgICAgY29uc3Qgc2hvcnRCeWxpbmVUZXh0ID0gdmlkZW9SZW5kZXJlci5zaG9ydEJ5bGluZVRleHRcbiAgICAgICAgPyB2aWRlb1JlbmRlcmVyLnNob3J0QnlsaW5lVGV4dFxuICAgICAgICA6IFwiXCI7XG4gICAgICBjb25zdCBsZW5ndGhUZXh0ID0gdmlkZW9SZW5kZXJlci5sZW5ndGhUZXh0XG4gICAgICAgID8gdmlkZW9SZW5kZXJlci5sZW5ndGhUZXh0XG4gICAgICAgIDogXCJcIjtcbiAgICAgIGNvbnN0IGNoYW5uZWxUaXRsZSA9XG4gICAgICAgIHZpZGVvUmVuZGVyZXIub3duZXJUZXh0ICYmIHZpZGVvUmVuZGVyZXIub3duZXJUZXh0LnJ1bnNcbiAgICAgICAgICA/IHZpZGVvUmVuZGVyZXIub3duZXJUZXh0LnJ1bnNbMF0udGV4dFxuICAgICAgICAgIDogXCJcIjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICB0eXBlOiBcInZpZGVvXCIsXG4gICAgICAgIHRodW1ibmFpbCxcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGNoYW5uZWxUaXRsZSxcbiAgICAgICAgc2hvcnRCeWxpbmVUZXh0LFxuICAgICAgICBsZW5ndGg6IGxlbmd0aFRleHQsXG4gICAgICAgIGlzTGl2ZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXgpIHtcbiAgICB0aHJvdyBleDtcbiAgfVxufTtcblxuY29uc3QgY29tcGFjdFZpZGVvUmVuZGVyZXIgPSAoanNvbikgPT4ge1xuICBjb25zdCBjb21wYWN0VmlkZW9SZW5kZXJlckpzb24gPSBqc29uLmNvbXBhY3RWaWRlb1JlbmRlcmVyO1xuXG4gIHZhciBpc0xpdmUgPSBmYWxzZTtcbiAgaWYgKFxuICAgIGNvbXBhY3RWaWRlb1JlbmRlcmVySnNvbi5iYWRnZXMgJiZcbiAgICBjb21wYWN0VmlkZW9SZW5kZXJlckpzb24uYmFkZ2VzLmxlbmd0aCA+IDAgJiZcbiAgICBjb21wYWN0VmlkZW9SZW5kZXJlckpzb24uYmFkZ2VzWzBdLm1ldGFkYXRhQmFkZ2VSZW5kZXJlciAmJlxuICAgIGNvbXBhY3RWaWRlb1JlbmRlcmVySnNvbi5iYWRnZXNbMF0ubWV0YWRhdGFCYWRnZVJlbmRlcmVyLnN0eWxlID09XG4gICAgICBcIkJBREdFX1NUWUxFX1RZUEVfTElWRV9OT1dcIlxuICApIHtcbiAgICBpc0xpdmUgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBpZDogY29tcGFjdFZpZGVvUmVuZGVyZXJKc29uLnZpZGVvSWQsXG4gICAgdHlwZTogXCJ2aWRlb1wiLFxuICAgIHRodW1ibmFpbDogY29tcGFjdFZpZGVvUmVuZGVyZXJKc29uLnRodW1ibmFpbC50aHVtYm5haWxzLFxuICAgIHRpdGxlOiBjb21wYWN0VmlkZW9SZW5kZXJlckpzb24udGl0bGUuc2ltcGxlVGV4dCxcbiAgICBjaGFubmVsVGl0bGU6IGNvbXBhY3RWaWRlb1JlbmRlcmVySnNvbi5zaG9ydEJ5bGluZVRleHQucnVuc1swXS50ZXh0LFxuICAgIHNob3J0QnlsaW5lVGV4dDogY29tcGFjdFZpZGVvUmVuZGVyZXJKc29uLnNob3J0QnlsaW5lVGV4dC5ydW5zWzBdLnRleHQsXG4gICAgbGVuZ3RoOiBjb21wYWN0VmlkZW9SZW5kZXJlckpzb24ubGVuZ3RoVGV4dCxcbiAgICBpc0xpdmVcbiAgfTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IEdldFNob3J0VmlkZW8gPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHBhZ2UgPSBhd2FpdCBHZXRZb3V0dWJlSW5pdERhdGEoeW91dHViZUVuZHBvaW50KTtcbiAgY29uc3Qgc2hvcnRSZXN1bHQgPVxuICAgIGF3YWl0IHBhZ2UuaW5pdGRhdGEuY29udGVudHMudHdvQ29sdW1uQnJvd3NlUmVzdWx0c1JlbmRlcmVyLnRhYnNbMF0udGFiUmVuZGVyZXIuY29udGVudC5yaWNoR3JpZFJlbmRlcmVyLmNvbnRlbnRzXG4gICAgICAuZmlsdGVyKCh4KSA9PiB7XG4gICAgICAgIHJldHVybiB4LnJpY2hTZWN0aW9uUmVuZGVyZXI7XG4gICAgICB9KVxuICAgICAgLm1hcCgoeikgPT4gei5yaWNoU2VjdGlvblJlbmRlcmVyLmNvbnRlbnQpXG4gICAgICAuZmlsdGVyKCh5KSA9PiB5LnJpY2hTaGVsZlJlbmRlcmVyKVxuICAgICAgLm1hcCgodSkgPT4gdS5yaWNoU2hlbGZSZW5kZXJlcilcbiAgICAgIC5maW5kKChpKSA9PiBpLnRpdGxlLnJ1bnNbMF0udGV4dCA9PSBcIlNob3J0c1wiKTtcbiAgY29uc3QgcmVzID0gYXdhaXQgc2hvcnRSZXN1bHQuY29udGVudHNcbiAgICAubWFwKCh6KSA9PiB6LnJpY2hJdGVtUmVuZGVyZXIpXG4gICAgLm1hcCgoeSkgPT4geS5jb250ZW50LnJlZWxJdGVtUmVuZGVyZXIpO1xuICByZXR1cm4gYXdhaXQgcmVzLm1hcCgoanNvbikgPT4gKHtcbiAgICBpZDoganNvbi52aWRlb0lkLFxuICAgIHR5cGU6IFwicmVlbFwiLFxuICAgIHRodW1ibmFpbDoganNvbi50aHVtYm5haWwudGh1bWJuYWlsc1swXSxcbiAgICB0aXRsZToganNvbi5oZWFkbGluZS5zaW1wbGVUZXh0LFxuICAgIGlubGluZVBsYXliYWNrRW5kcG9pbnQ6IGpzb24uaW5saW5lUGxheWJhY2tFbmRwb2ludCB8fCB7fVxuICB9KSk7XG59O1xuXG5leHBvcnRzLkdldExpc3RCeUtleXdvcmQgPSBHZXREYXRhO1xuZXhwb3J0cy5OZXh0UGFnZSA9IG5leHRQYWdlO1xuZXhwb3J0cy5HZXRQbGF5bGlzdERhdGEgPSBHZXRQbGF5bGlzdERhdGE7XG5leHBvcnRzLkdldFN1Z2dlc3REYXRhID0gR2V0U3VnZ2VzdERhdGE7XG5leHBvcnRzLkdldENoYW5uZWxCeUlkID0gR2V0Q2hhbm5lbEJ5SWQ7XG5leHBvcnRzLkdldFZpZGVvRGV0YWlscyA9IEdldFZpZGVvRGV0YWlscztcbmV4cG9ydHMuR2V0U2hvcnRWaWRlbyA9IEdldFNob3J0VmlkZW87XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/youtube-search-api@1.2.2/node_modules/youtube-search-api/index.js\n");

/***/ })

};
;